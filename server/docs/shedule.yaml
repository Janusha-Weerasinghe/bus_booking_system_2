
paths:
  /api/bus/schedules:
    get:
      description: "Fetch all schedules"
      tags:
        - Schedules
      responses:
        200:
          description: "List of all bus schedules"
          schema:
            type: array
            items:
              $ref: "#/definitions/Schedule"
        404:
          description: "No schedules found"
        500:
          description: "Internal server error"
          
    post:
      description: "Add a new bus schedule"
      tags:
        - Schedules
      parameters:
        - name: Schedule
          in: body
          description: "Details of the bus schedule to add"
          required: true
          schema:
            $ref: "#/definitions/ScheduleInput"
      responses:
        201:
          description: "Schedule added successfully"
          schema:
            $ref: "#/definitions/ScheduleResponse"
        400:
          description: "Invalid input"
        500:
          description: "Internal server error"
          
  /api/bus/schedules/{id}:
    put:
      description: "Update an existing bus schedule"
      tags:
        - Schedules
      parameters:
        - name: id
          in: path
          description: "ID of the schedule to update"
          required: true
          type: string
        - name: Schedule
          in: body
          description: "Updated schedule details"
          required: true
          schema:
            $ref: "#/definitions/ScheduleInput"
      responses:
        200:
          description: "Schedule updated successfully"
          schema:
            $ref: "#/definitions/ScheduleResponse"
        400:
          description: "Invalid input or invalid schedule ID"
        404:
          description: "Schedule not found"
        500:
          description: "Internal server error"

definitions:
  Schedule:
    type: object
    properties:
      id:
        type: string
        description: "Unique identifier for the schedule"
      bus:
        type: string
        description: "Bus associated with the schedule"
      route:
        type: string
        description: "Route for the schedule"
      departureTime:
        type: string
        format: date-time
        description: "Departure time of the bus schedule"
      arrivalTime:
        type: string
        format: date-time
        description: "Arrival time of the bus schedule"
      createdAt:
        type: string
        format: date-time
        description: "Creation timestamp of the schedule"
      updatedAt:
        type: string
        format: date-time
        description: "Last updated timestamp of the schedule"
      
  ScheduleInput:
    type: object
    required:
      - bus
      - route
      - departureTime
      - arrivalTime
    properties:
      bus:
        type: string
        description: "Bus associated with the schedule"
      route:
        type: string
        description: "Route for the schedule"
      departureTime:
        type: string
        format: date-time
        description: "Departure time of the bus schedule"
      arrivalTime:
        type: string
        format: date-time
        description: "Arrival time of the bus schedule"
      
  ScheduleResponse:
    type: object
    properties:
      success:
        type: boolean
        description: "Indicates whether the request was successful"
      data:
        type: object
        properties:
          type:
            type: string
            description: "Type of the resource"
            example: "schedule"
          id:
            type: string
            description: "Schedule ID"
          attributes:
            type: object
            properties:
              bus:
                type: string
                description: "Bus ID"
              route:
                type: string
                description: "Route ID"
              departureTime:
                type: string
                format: date-time
                description: "Departure time"
              arrivalTime:
                type: string
                format: date-time
                description: "Arrival time"
