paths:
  /api/bus/buses:
    get:
      description: "Fetch all buses"
      tags:
        - Bus
      responses:
        200:
          description: "List of all buses"
          schema:
            type: array
            items:
              $ref: "#/definitions/Bus"
        500:
          description: "Server error"
          
    post:
      description: "Add a new bus"
      tags:
        - Bus
      parameters:
        - name: Bus
          in: body
          description: "Details of the bus to add"
          required: true
          schema:
            $ref: "#/definitions/BusInput"
      responses:
        201:
          description: "Bus added successfully"
          schema:
            $ref: "#/definitions/Bus"
        400:
          description: "Invalid input"
        500:
          description: "Server error"
          
  /api/bus/buses/by-type:
    get:
      description: "Get buses by type (e.g. Luxury, Normal)"
      tags:
        - Bus
      parameters:
        - name: type
          in: query
          description: "Type of bus (Luxury or Normal)"
          required: true
          type: string
      responses:
        200:
          description: "List of buses matching the bus type"
          schema:
            type: array
            items:
              $ref: "#/definitions/Bus"
        400:
          description: "Bus type is required"
        500:
          description: "Server error"
          
  /api/bus/buses/by-route:
    get:
      description: "Get buses by route"
      tags:
        - Bus
      parameters:
        - name: route
          in: query
          description: "Route name of the bus"
          required: true
          type: string
      responses:
        200:
          description: "List of buses matching the route"
          schema:
            type: array
            items:
              $ref: "#/definitions/Bus"
        400:
          description: "Route is required"
        500:
          description: "Server error"
          
  /api/bus/buses/by-organization:
    get:
      description: "Get buses by organization"
      tags:
        - Bus
      parameters:
        - name: organizationId
          in: query
          description: "Organization ID that the bus belongs to"
          required: true
          type: string
      responses:
        200:
          description: "List of buses from the specified organization"
          schema:
            type: array
            items:
              $ref: "#/definitions/Bus"
        400:
          description: "Organization ID is required"
        500:
          description: "Server error"
          
  /api/bus/buses/{id}:
    get:
      description: "Get bus details by bus number"
      tags:
        - Bus
      parameters:
        - name: id
          in: path
          description: "Unique identifier of the bus"
          required: true
          type: string
      responses:
        200:
          description: "Bus details"
          schema:
            $ref: "#/definitions/Bus"
        404:
          description: "Bus not found"
        500:
          description: "Server error"
          
    put:
      description: "Update a bus"
      tags:
        - Bus
      parameters:
        - name: id
          in: path
          description: "Unique identifier of the bus to update"
          required: true
          type: string
        - name: Bus
          in: body
          description: "Updated details of the bus"
          required: true
          schema:
            $ref: "#/definitions/BusInput"
      responses:
        200:
          description: "Bus updated successfully"
          schema:
            $ref: "#/definitions/Bus"
        404:
          description: "Bus not found"
        500:
          description: "Server error"
          
    delete:
      description: "Delete a bus"
      tags:
        - Bus
      parameters:
        - name: id
          in: path
          description: "Unique identifier of the bus to delete"
          required: true
          type: string
      responses:
        200:
          description: "Bus deleted successfully"
        404:
          description: "Bus not found"
        500:
          description: "Server error"
definitions:
  Bus:
    type: object
    properties:
      id:
        type: string
        description: "Unique identifier for the bus"
      busNumber:
        type: string
        description: "Bus number"
      permitNo:
        type: string
        description: "Permit number"
      type:
        type: string
        enum:
          - "Luxury"
          - "Normal"
        description: "Type of the bus"
      capacity:
        type: integer
        description: "Bus capacity"
      operatorId:
        type: string
        description: "Operator ID of the bus"
      driverId:
        type: string
        description: "Driver ID of the bus"
      conductorId:
        type: string
        description: "Conductor ID of the bus"
      organizationId:
        type: string
        description: "Organization ID of the bus"
      seatPrice:
        type: number
        description: "Seat price of the bus"
      phoneNumber:
        type: string
        description: "Phone number associated with the bus"
      createdAt:
        type: string
        format: date-time
        description: "Creation timestamp of the bus"
      updatedAt:
        type: string
        format: date-time
        description: "Update timestamp of the bus"
  BusInput:
    type: object
    required:
      - busNumber
      - permitNo
      - type
      - capacity
      - operatorId
      - driverId
      - conductorId
      - organizationId
      - seatPrice
    properties:
      busNumber:
        type: string
        description: "Bus number"
      permitNo:
        type: string
        description: "Permit number"
      type:
        type: string
        enum:
          - "Luxury"
          - "Normal"
        description: "Type of the bus"
      capacity:
        type: integer
        description: "Bus capacity"
      operatorId:
        type: string
        description: "Operator ID of the bus"
      driverId:
        type: string
        description: "Driver ID of the bus"
      conductorId:
        type: string
        description: "Conductor ID of the bus"
      organizationId:
        type: string
        description: "Organization ID of the bus"
      seatPrice:
        type: number
        description: "Seat price of the bus"
      phoneNumber:
        type: string
        description: "Phone number associated with the bus"